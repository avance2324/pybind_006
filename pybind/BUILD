load("@pybind11_bazel//:build_defs.bzl", "pybind_extension")

# this will create Pet_pybind.so
pybind_extension(
    name = "Pybind_temp", ## create Pybind_temp.so, used by py_library
    srcs = ["pet_pybind.cpp"],
    copts = ['-IPet/include'],
    deps = [
        "//Pet:Pet",
    ],
)

# depends on result of pybind_extension
py_library(
    name = "Pet_pybind", ## generate Pet_pybind.so is bazel-bin/pybind/
    data = [":Pybind_temp.so"], ## generated by pybind_extension

)
